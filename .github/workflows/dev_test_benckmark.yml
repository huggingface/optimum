# This yml file is autogenerated. Do not edit.

"name": |-
  dev_Benchmark suite / Python - Test
"on":
  "schedule":
  - "cron": |-
      0 7 * * *
"concurrency":
  "group": |-
    ${{ github.workflow }}-${{ github.head_ref || github.run_id }}
  "cancel-in-progress": |-
    true
"jobs":
  "build":
    "strategy":
      "fail-fast": |-
        false
      "matrix":
        "python-version":
        - |-
          3.8
        - |-
          3.9
        "os":
        - |-
          ubuntu-20.04
    "runs-on": |-
      ${{ matrix.os }}
    "steps":
    - "uses": |-
        actions/checkout@v2
    - "name": |-
        Setup Python ${{ matrix.python-version }}
      "uses": |-
        actions/setup-python@v2
      "with":
        "python-version": |-
          ${{ matrix.python-version }}
    - "name": |-
        Install dependencies
      "run": |
        pip install wheel
        pip install .[tests,onnxruntime,benchmark]
        pip install -U git+https://github.com/huggingface/transformers@main#egg=evaluate
        pip install -U git+https://github.com/huggingface/transformers@main#egg=diffusers
        pip install -U git+https://github.com/huggingface/transformers@main#egg=transformers
    - "name": |-
        Test with unittest
      "run": |
        python -m unittest discover --start-directory tests/benchmark --pattern 'test_*.py'
